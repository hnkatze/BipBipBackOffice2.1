<!-- Drawer -->
<p-drawer
  [visible]="true"
  position="right"
  styleClass="!w-full md:!w-[600px]"
  (onHide)="handleClose()"
  [header]="isEditMode() ? 'Editar Tipo de Documento' : 'Crear Tipo de Documento'"
>
  <!-- Toast -->
  <p-toast />

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Form fields -->
      <div class="flex-1 space-y-6">
        <!-- Nombre del tipo de documento -->
        <div class="space-y-2">
          <label
            for="docTypeName"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >
            Nombre tipo de documento
            <span class="text-red-500">*</span>
          </label>
          <input
            id="docTypeName"
            type="text"
            pInputText
            formControlName="docTypeName"
            placeholder="Escribe el nombre del tipo de documento"
            [class]="
              'w-full ' +
              (isFieldInvalid('docTypeName')
                ? 'border-red-500 focus:border-red-500'
                : '')
            "
          />
          @if (isFieldInvalid('docTypeName')) {
            <small class="text-red-500">
              {{ getFieldError('docTypeName') }}
            </small>
          }
        </div>

        <!-- Número del tipo de documento -->
        <div class="space-y-2">
          <label
            for="docTypeNumb"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300"
          >
            Número de tipo de documento
            <span class="text-red-500">*</span>
          </label>
          <input
            id="docTypeNumb"
            type="text"
            pInputText
            formControlName="docTypeNumb"
            placeholder="Escribe el número"
            [class]="
              'w-full ' +
              (isFieldInvalid('docTypeNumb')
                ? 'border-red-500 focus:border-red-500'
                : '')
            "
          />
          @if (isFieldInvalid('docTypeNumb')) {
            <small class="text-red-500">
              {{ getFieldError('docTypeNumb') }}
            </small>
          }
        </div>

        <!-- Estado -->
        <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
          <label class="text-sm font-medium text-gray-700 dark:text-gray-300">
            Estado
          </label>
          <div class="flex items-center gap-2">
            <span class="text-sm text-gray-600 dark:text-gray-400">
              {{ form.get('isActive')?.value ? 'Activo' : 'Inactivo' }}
            </span>
            <p-toggleSwitch formControlName="isActive" />
          </div>
        </div>
      </div>

      <!-- Footer buttons -->
      <div class="flex flex-col-reverse sm:flex-row gap-3 pt-6 border-t border-gray-200 dark:border-gray-700">
        <!-- Botón Cancelar -->
        <p-button
          type="button"
          label="Cancelar"
          severity="secondary"
          [outlined]="true"
          (onClick)="handleClose()"
          [disabled]="isLoading()"
          styleClass="w-full sm:w-auto"
        />

        <!-- Botón Guardar -->
        <p-button
          type="submit"
          [label]="isLoading() ? 'Guardando...' : (isEditMode() ? 'Guardar Cambios' : 'Guardar')"
          severity="primary"
          [loading]="isLoading()"
          [disabled]="isLoading()"
          styleClass="w-full sm:w-auto"
        />
      </div>
  </form>
</p-drawer>
