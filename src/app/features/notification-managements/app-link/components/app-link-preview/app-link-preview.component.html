<div class="flex flex-col items-center gap-4 p-6">
  <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-200 text-center">Vista Previa</h2>
  <p class="text-base text-gray-600 dark:text-gray-400 text-center">Así se verá el enlace en la aplicación móvil</p>

  <!-- Mobile Frame Container (90% width with phone bezel) -->
  <div class="w-[90%] max-w-[420px] bg-gray-900 dark:bg-gray-950 rounded-[3rem] shadow-2xl p-3 relative">
    <!-- Phone Notch/Status Bar -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-gray-900 dark:bg-gray-950 rounded-b-3xl z-10"></div>

    <!-- Screen Content -->
    <div class="bg-white dark:bg-gray-800 rounded-[2.5rem] overflow-hidden shadow-inner">
      <!-- Mobile Header -->
      <div class="bg-primary px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-2">
          <i class="pi pi-arrow-left text-white text-lg"></i>
          <span class="text-white font-semibold text-lg">Bip App</span>
        </div>
        <span class="text-white text-sm font-medium">{{ currentTime() }}</span>
      </div>

      <!-- App Link Content -->
      <div class="bg-white dark:bg-gray-800">
        <!-- Brand Badge (if brand selected) -->
        @if (brandName()) {
          <div class="absolute top-16 right-6 z-10">
            <p-tag
              [value]="brandName()"
              severity="contrast"
              [rounded]="true"
              styleClass="font-bold uppercase text-xs shadow-md"
            />
          </div>
        }

        <!-- Image Section -->
        @if (image()) {
          <div class="relative w-full h-72 bg-gray-100 dark:bg-gray-700">
            <img
              [src]="image()"
              [alt]="title()"
              class="w-full h-full object-cover"
            />
            <!-- Image Type Badge -->
            <div class="absolute bottom-3 left-3">
              <p-tag
                [value]="imageType()"
                [severity]="imageTypeSeverity()"
                [rounded]="true"
                styleClass="text-xs"
              />
            </div>
          </div>
        } @else {
          <div class="w-full h-72 bg-gray-100 dark:bg-gray-700 flex items-center justify-center">
            <div class="text-center text-gray-400 dark:text-gray-500">
              <i class="pi pi-image text-6xl mb-3"></i>
              <p class="text-sm">Sin imagen</p>
            </div>
          </div>
        }

        <!-- Content Section -->
        <div class="p-6">
          <h3 class="text-xl font-bold mb-3 text-gray-900 dark:text-gray-100 leading-tight">
            {{ title() }}
          </h3>
          <p class="text-base text-gray-600 dark:text-gray-400 leading-relaxed mb-6">
            {{ description() }}
          </p>

          <!-- Action Button -->
          <p-button
            label="Abrir enlace"
            icon="pi pi-external-link"
            styleClass="w-full"
            [raised]="true"
          />
        </div>

        <!-- Footer: Form Status -->
        <div class="border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900">
          <div class="flex items-center justify-center gap-2">
            @if (pendingFields() === 0) {
              <i class="pi pi-check-circle text-green-600 dark:text-green-400"></i>
              <span class="text-sm font-medium text-green-600 dark:text-green-400">{{ pendingMessage() }}</span>
            } @else {
              <i class="pi pi-info-circle text-orange-600 dark:text-orange-400"></i>
              <span class="text-sm font-medium text-orange-600 dark:text-orange-400">{{ pendingMessage() }}</span>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
